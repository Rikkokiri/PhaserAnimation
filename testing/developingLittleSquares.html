<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Phaser - Little Sqaures</title>

  <script src = "../js/phaser.min.js"></script>
  <script src = "../js/shapes/Rec.js"></script>
  <script src = "../js/shapes/Square.js"></script>
  <script src = "../js/shape-composites/squareGrid.js"></script>

  <script src = "../js/animation-phases/oneSquare.js"></script>


  <style type="text/css">

    body {
      margin: 20px;
    }

  </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example', { create: create, update: update, render: render });

var centerX = game.width / 2;
var centerY = game.height / 2;
var graphics;

var animationNumber = 1;
var delayCounter = -1;

var testSquare;

var testline;
var linecolor = 0xddaaaa;

var testText;

function create() {

  graphics = game.add.graphics(0,0);
  prepareOneSquareAnimation(game.width, game.height);

  littleSquaresToSquareFormation();

  // oneSquareToOriginalSize();
  // spaceySquareFormation(0);
  var goalPoints = calculateGoalPositionsForLittleSquaresCenterpoints(this.game.width, this.game.height);
  var currentPositions = getLittleSquareCenters();
  littleSquareMoves = calculateIncrementalMoves(goalPoints, currentPositions, 3);
  //
  moveSquaresInAngle(littleSquareMoves);
  moveSquaresInAngle(littleSquareMoves);
  // moveSquaresInAngle(littleSquareMoves);
  // moveSquaresInAngle(littleSquareMoves);

  // spreadOutFormation();

  drawGrid(graphics, littleSquares);

  // console.log(littleSquares);

  testSquare = new Square(50, 50, 100, 0xffffff);

  testSquare.moveDistanceInAngle(100, 90);


  // testSquare.draw(graphics);



  // calculateGoalPositionsForLittleSquares(this.game.width, this.game.height); d
  // moveLittleSquares();

  // new Line(x1, y1, x2, y2)

  // angle in radians = degrees * pi / 180
  var angle = 56;
  var angleInRadians = angle * (Math.PI / 180);

  //console.log(angleInRadians);

  // fromAngle(x, y, angle, length);
  // testline = new Phaser.Line(50, 50, 500, 400);
  // testline.fromAngle(centerX, centerY, angleInRadians, 100);
  testline = new Phaser.Line(50, 50, 500, 400).fromAngle(centerX, centerY, angleInRadians, 100);
  var endpoint = testline.end;


}

function update(){
  //
  // graphics.clear();
  //
  // delayCounter++;
  // console.log("delayCounter", delayCounter);
  //
  // if(delayCounter % 30 == 0){
  //
  //   if(delayCounter <= 60){
  //     moveSquaresInAngle(littleSquareMoves);
  //   }
  //
  //   if(delayCounter == 60){
  //     spreadOutFormation();
  //   }
  //
  //   if(delayCounter >= 90 && delayCounter <= 150){
  //     expandLittleSquares(13);
  //   }
  // }
  //
  // drawLittleSquares(graphics);


}

function render() {

  // game.debug.geom(testline, linecolor);

}

</script>

</body>
</html>
